# vi:ft=dosini
[general]
accounts = efcloud
metadata = ~/.cache/offlineimap
pythonfile = ~/.dotfiles/scripts/offlineimap-pass.py

[mbnames]
enabled = yes
filename = ~/.dotfiles/local/mailboxes
header = "# Autogenerated by offlineimap. Do not edit\n"
peritem = virtual-mailboxes "%(foldername)s" "notmuch://?query=folder:%(accountname)s/%(foldername)s"
sep = "\n"
footer = "\n"

[Account efcloud]
localrepository = efcloud-local
remoterepository = efcloud-remote
utf8foldernames = yes
autorefresh = 5
quick = 60
postsynchook = notmuch --config ~/.dotfiles/misc/notmuch.conf new

[Repository efcloud-local]
type = Maildir
localfolders = ~/.cache/mail/efcloud
utime_from_header = yes
filename_use_mail_timestamp = yes

[Repository efcloud-remote]
type = IMAP
remotehost = imap.efcloud.co
remoteuser = janne
remotepasseval = get_pass('accounts/efcloud')
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
ssl = no
ssl_version = tls1_2
keepalive = 60
holdconnectionopen = yes
